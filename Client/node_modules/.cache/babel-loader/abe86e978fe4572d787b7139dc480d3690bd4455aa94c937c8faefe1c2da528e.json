{"ast":null,"code":"var _jsxFileName = \"D:\\\\CreateFlow3\\\\Client\\\\src\\\\Shape_Box\\\\Recatangle.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Crop75SharpIcon from \"@mui/icons-material/Crop75Sharp\";\nimport \"./Styles.css\";\nimport { useDrawingTools } from \"../Context/DrawingToolsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Rectangle = ({\n  canvasRef,\n  saveCanvasState\n}) => {\n  _s();\n  const {\n    setSelectedTool\n  } = useDrawingTools();\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [startX, setStartX] = useState(0);\n  const [startY, setStartY] = useState(0);\n  const handleMouseDown = e => {\n    setIsDrawing(true);\n    setStartX(e.nativeEvent.offsetX);\n    setStartY(e.nativeEvent.offsetY);\n  };\n  const handleMouseMove = e => {\n    if (!isDrawing) return;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n    const endX = e.nativeEvent.offsetX;\n    const endY = e.nativeEvent.offsetY;\n    const width = endX - startX;\n    const height = endY - startY;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillRect(startX, startY, width, height);\n  };\n  const handleMouseUp = () => {\n    if (!isDrawing) return;\n    setIsDrawing(false);\n    saveCanvasState();\n  };\n  const handleClick = () => {\n    if (!canvasRef.current) return;\n    setSelectedTool(\"Rectangle\");\n    const canvas = canvasRef.current;\n\n    // Add event listeners\n    canvas.addEventListener(\"mousedown\", handleMouseDown);\n    canvas.addEventListener(\"mousemove\", handleMouseMove);\n    canvas.addEventListener(\"mouseup\", handleMouseUp);\n  };\n  useEffect(() => {\n    // Clean up event listeners when the component unmounts\n    return () => {\n      const canvas = canvasRef.current;\n      if (!canvas) return;\n      canvas.removeEventListener(\"mousedown\", handleMouseDown);\n      canvas.removeEventListener(\"mousemove\", handleMouseMove);\n      canvas.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [canvasRef]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shapes\",\n    children: /*#__PURE__*/_jsxDEV(Crop75SharpIcon, {\n      onClick: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(Rectangle, \"e4XkFhBZcOufrdeGrO0iMGModzA=\", false, function () {\n  return [useDrawingTools];\n});\n_c = Rectangle;\nexport default Rectangle;\nvar _c;\n$RefreshReg$(_c, \"Rectangle\");","map":{"version":3,"names":["React","useState","useEffect","Crop75SharpIcon","useDrawingTools","jsxDEV","_jsxDEV","Rectangle","canvasRef","saveCanvasState","_s","setSelectedTool","isDrawing","setIsDrawing","startX","setStartX","startY","setStartY","handleMouseDown","e","nativeEvent","offsetX","offsetY","handleMouseMove","canvas","current","ctx","getContext","endX","endY","width","height","clearRect","fillRect","handleMouseUp","handleClick","addEventListener","removeEventListener","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/CreateFlow3/Client/src/Shape_Box/Recatangle.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Crop75SharpIcon from \"@mui/icons-material/Crop75Sharp\";\r\nimport \"./Styles.css\";\r\nimport { useDrawingTools } from \"../Context/DrawingToolsContext\";\r\n\r\nconst Rectangle = ({ canvasRef, saveCanvasState }) => {\r\n  const { setSelectedTool } = useDrawingTools();\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [startX, setStartX] = useState(0);\r\n  const [startY, setStartY] = useState(0);\r\n\r\n  const handleMouseDown = (e) => {\r\n    setIsDrawing(true);\r\n    setStartX(e.nativeEvent.offsetX);\r\n    setStartY(e.nativeEvent.offsetY);\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDrawing) return;\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const endX = e.nativeEvent.offsetX;\r\n    const endY = e.nativeEvent.offsetY;\r\n    const width = endX - startX;\r\n    const height = endY - startY;\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    ctx.fillRect(startX, startY, width, height);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    if (!isDrawing) return;\r\n    setIsDrawing(false);\r\n    saveCanvasState();\r\n  };\r\n\r\n  const handleClick = () => {\r\n    if (!canvasRef.current) return;\r\n    setSelectedTool(\"Rectangle\");\r\n    const canvas = canvasRef.current;\r\n\r\n    // Add event listeners\r\n    canvas.addEventListener(\"mousedown\", handleMouseDown);\r\n    canvas.addEventListener(\"mousemove\", handleMouseMove);\r\n    canvas.addEventListener(\"mouseup\", handleMouseUp);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Clean up event listeners when the component unmounts\r\n    return () => {\r\n      const canvas = canvasRef.current;\r\n      if (!canvas) return;\r\n      canvas.removeEventListener(\"mousedown\", handleMouseDown);\r\n      canvas.removeEventListener(\"mousemove\", handleMouseMove);\r\n      canvas.removeEventListener(\"mouseup\", handleMouseUp);\r\n    };\r\n  }, [canvasRef]);\r\n\r\n  return (\r\n    <div className=\"shapes\">\r\n      <Crop75SharpIcon onClick={handleClick} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rectangle;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}