{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shivansh Mishra\\\\OneDrive\\\\Desktop\\\\CreateFlow\\\\Client\\\\src\\\\Context\\\\History.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useContext, useState, createContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HistoryContext = /*#__PURE__*/createContext();\nexport const useHistory = () => {\n  _s();\n  return useContext(HistoryContext);\n};\n_s(useHistory, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const HistoryProvider = ({\n  children\n}) => {\n  _s2();\n  const [undoHistory, setUndoHistory] = useState([]);\n  const [redoHistory, setRedoHistory] = useState([]);\n  const [blankStage, setBlankStage] = useState(null);\n  const addToHistory = data => {\n    if (undoHistory.length > 0 && data === undoHistory[undoHistory.length - 1]) return;\n    if (undoHistory.length === 0) setBlankStage(data);\n    setUndoHistory([...undoHistory, data]);\n    setRedoHistory([]);\n  };\n  const undo = () => {\n    if (undoHistory.length > 0) {\n      const last = undoHistory[undoHistory.length - 1];\n      if (undoHistory.length === 1) {\n        setUndoHistory([blankStage]);\n      } else {\n        setUndoHistory(undoHistory.slice(0, -1));\n        setRedoHistory([...redoHistory, last]);\n      }\n      return last;\n    }\n  };\n  const redo = () => {\n    if (redoHistory.length > 0) {\n      const last = redoHistory[redoHistory.length - 1];\n      setUndoHistory([...undoHistory, last]);\n      setRedoHistory(redoHistory.slice(0, -1));\n      return last;\n    }\n  };\n  const contextValue = {\n    undoHistory,\n    redoHistory,\n    addToHistory,\n    undo,\n    redo\n  };\n  return /*#__PURE__*/_jsxDEV(HistoryContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s2(HistoryProvider, \"qUym4Q6dGbBWO1j6J9Cxqg1wIxs=\");\n_c = HistoryProvider;\nvar _c;\n$RefreshReg$(_c, \"HistoryProvider\");","map":{"version":3,"names":["useContext","useState","createContext","jsxDEV","_jsxDEV","HistoryContext","useHistory","_s","HistoryProvider","children","_s2","undoHistory","setUndoHistory","redoHistory","setRedoHistory","blankStage","setBlankStage","addToHistory","data","length","undo","last","slice","redo","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Shivansh Mishra/OneDrive/Desktop/CreateFlow/Client/src/Context/History.jsx"],"sourcesContent":["import { useContext, useState, createContext } from \"react\";\r\n\r\nconst HistoryContext = createContext();\r\n\r\nexport const useHistory = () => {\r\n  return useContext(HistoryContext);\r\n};\r\n\r\nexport const HistoryProvider = ({ children }) => {\r\n  const [undoHistory, setUndoHistory] = useState([]);\r\n  const [redoHistory, setRedoHistory] = useState([]);\r\n  const [blankStage, setBlankStage] = useState(null); \r\n  const addToHistory = (data) => {\r\n    if (undoHistory.length > 0 && data === undoHistory[undoHistory.length - 1])\r\n      return;\r\n    if(undoHistory.length===0) setBlankStage(data);\r\n    setUndoHistory([...undoHistory, data]);\r\n    setRedoHistory([]);\r\n  };\r\n  const undo = () => {   \r\n    if (undoHistory.length > 0) {\r\n      const last = undoHistory[undoHistory.length - 1];\r\n      \r\n      if(undoHistory.length===1){\r\n        setUndoHistory([blankStage])\r\n      }\r\n      else {\r\n        setUndoHistory(undoHistory.slice(0, -1));\r\n        setRedoHistory([...redoHistory, last]);\r\n      }\r\n      return last;\r\n    }\r\n  };\r\n  const redo = () => {\r\n    if (redoHistory.length > 0) {\r\n      const last = redoHistory[redoHistory.length - 1];\r\n      setUndoHistory([...undoHistory, last]);\r\n      setRedoHistory(redoHistory.slice(0, -1));\r\n      return last; \r\n    }\r\n  };\r\n  const contextValue = {\r\n    undoHistory,\r\n    redoHistory,\r\n    addToHistory,\r\n    undo,\r\n    redo,\r\n  };\r\n  return (\r\n    <HistoryContext.Provider value={contextValue}>\r\n      {children}\r\n    </HistoryContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,SAASA,UAAU,EAAEC,QAAQ,EAAEC,aAAa,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5D,MAAMC,cAAc,gBAAGH,aAAa,CAAC,CAAC;AAEtC,OAAO,MAAMI,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,OAAOP,UAAU,CAACK,cAAc,CAAC;AACnC,CAAC;AAACE,EAAA,CAFWD,UAAU;AAIvB,OAAO,MAAME,eAAe,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC/C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACc,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAMgB,YAAY,GAAIC,IAAI,IAAK;IAC7B,IAAIP,WAAW,CAACQ,MAAM,GAAG,CAAC,IAAID,IAAI,KAAKP,WAAW,CAACA,WAAW,CAACQ,MAAM,GAAG,CAAC,CAAC,EACxE;IACF,IAAGR,WAAW,CAACQ,MAAM,KAAG,CAAC,EAAEH,aAAa,CAACE,IAAI,CAAC;IAC9CN,cAAc,CAAC,CAAC,GAAGD,WAAW,EAAEO,IAAI,CAAC,CAAC;IACtCJ,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;EACD,MAAMM,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAIT,WAAW,CAACQ,MAAM,GAAG,CAAC,EAAE;MAC1B,MAAME,IAAI,GAAGV,WAAW,CAACA,WAAW,CAACQ,MAAM,GAAG,CAAC,CAAC;MAEhD,IAAGR,WAAW,CAACQ,MAAM,KAAG,CAAC,EAAC;QACxBP,cAAc,CAAC,CAACG,UAAU,CAAC,CAAC;MAC9B,CAAC,MACI;QACHH,cAAc,CAACD,WAAW,CAACW,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACxCR,cAAc,CAAC,CAAC,GAAGD,WAAW,EAAEQ,IAAI,CAAC,CAAC;MACxC;MACA,OAAOA,IAAI;IACb;EACF,CAAC;EACD,MAAME,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAIV,WAAW,CAACM,MAAM,GAAG,CAAC,EAAE;MAC1B,MAAME,IAAI,GAAGR,WAAW,CAACA,WAAW,CAACM,MAAM,GAAG,CAAC,CAAC;MAChDP,cAAc,CAAC,CAAC,GAAGD,WAAW,EAAEU,IAAI,CAAC,CAAC;MACtCP,cAAc,CAACD,WAAW,CAACS,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACxC,OAAOD,IAAI;IACb;EACF,CAAC;EACD,MAAMG,YAAY,GAAG;IACnBb,WAAW;IACXE,WAAW;IACXI,YAAY;IACZG,IAAI;IACJG;EACF,CAAC;EACD,oBACEnB,OAAA,CAACC,cAAc,CAACoB,QAAQ;IAACC,KAAK,EAAEF,YAAa;IAAAf,QAAA,EAC1CA;EAAQ;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACc,CAAC;AAE9B,CAAC;AAACpB,GAAA,CA7CWF,eAAe;AAAAuB,EAAA,GAAfvB,eAAe;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}